(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,t,a){},30:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(16),r=a.n(s),i=(a(29),a(30),a(3)),d=a.n(i),o=a(5),l=a(6),u=a(12),j=a(8),b=a(1),m=function(e){var t=Object(j.c)((function(e){return e.isModeGameTraining})),a=Object(j.b)(),n=Object(c.useState)([]),s=Object(l.a)(n,2),r=s[0],i=s[1],m=Object(c.useState)(!1),f=Object(l.a)(m,2),h=f[0],p=f[1],O=Object(c.useCallback)((function(){p((function(){return!h}))}),[h]),_=Object(c.useCallback)((function(){a(!0===t?{type:"game.mode.play"}:{type:"game.mode.training"})}),[a,t]);function g(){return(g=Object(o.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/categories/");case 2:return t=e.sent,e.next=5,t.json();case 5:a=(a=e.sent).map((function(e){return e.active="",window.location.pathname.includes(e._id)&&(e.active="active"),e})),i((function(){return a}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[h]),Object(b.jsxs)("header",{className:"header",children:[Object(b.jsxs)("div",{className:"header__navigation",children:[Object(b.jsx)("div",{className:"header__navigation-button-toggle "+(h?"active ":""),onClick:O}),Object(b.jsx)("div",{className:"header__menu-wrapper "+(h?"active ":""),onClick:function(){return p(!1)}}),Object(b.jsx)("ul",{className:"header__menu "+(h?"active ":""),children:r.map((function(e,t){return Object(b.jsx)("li",{className:"header__menu-item ",children:Object(b.jsx)(u.b,{to:"/category/words/".concat(e._id),onClick:function(){return p(!1)},className:"header__menu-link "+e.active,children:e.name})},t)}))})]}),Object(b.jsx)("div",{children:Object(b.jsx)(u.b,{to:"/statistics/",className:"header__button",children:"Statistics"})}),Object(b.jsx)("div",{className:"header__switch",children:Object(b.jsxs)("div",{className:"switcher",children:[Object(b.jsx)("input",{className:"switcher__input",id:"switcher",type:"checkbox",name:"switcher",checked:!!t}),Object(b.jsx)("label",{className:"switcher__label",htmlFor:"switcher",onClick:_})]})})]})},f=a(4),h=function(e){var t=Object(c.useState)(!1),a=Object(l.a)(t,2),n=a[0],s=a[1],r=function(){var t=Object(o.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return new Audio(e.card.audioSrc).play(),t.next=4,fetch("/api/words/clicks/".concat(e.card._id));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"training__flip-card "+(n?"training__flip-card-translate ":""),"data-card-audio-src":e.card.audioSrc,onMouseLeave:function(){return s(!1)},children:Object(b.jsxs)("div",{className:"training__flip-card-container",children:[Object(b.jsxs)("div",{className:"training__flip-card-front",style:{backgroundImage:'url("'.concat(e.card.image,'")')},onClick:r,children:[Object(b.jsx)("div",{className:"training__card-text",children:e.card.word}),Object(b.jsx)("div",{className:"training__card-rotate",onClick:function(e){s(!0),e.stopPropagation()}})]}),Object(b.jsx)("div",{className:"training__flip-card-back",style:{backgroundImage:'url("'.concat(e.card.image,'")')},children:Object(b.jsx)("div",{className:"training__card-text",children:e.card.translation})})]})})},p=function(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),n=a[0],s=a[1];function r(){return(r=Object(o.a)(d.a.mark((function t(){var a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/categories/words/".concat(e.match.params.id));case 2:return a=t.sent,t.next=5,a.json();case 5:c=t.sent,s((function(){return c}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[e.match.params.id]),Object(b.jsx)("div",{className:"training",children:n.map((function(e,t){return Object(b.jsx)(h,{card:e},t)}))})},O=a(23),_=function(e){var t=Object(c.useState)({items:[],guessed:[],current:{}}),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(!1),i=Object(l.a)(r,2),u=i[0],j=i[1],m=Object(c.useState)([]),h=Object(l.a)(m,2),p=h[0],_=h[1],g=Object(f.f)();function x(){return(x=Object(o.a)(d.a.mark((function t(){var a,c,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.match.params.id?"/api/categories/words/".concat(e.match.params.id):"/api/words/statistics?field=perSent&order=desc&game=y",t.next=3,fetch(a);case 3:return c=t.sent,t.next=6,c.json();case 6:n=t.sent,j(!1),_([]),s({items:n.map((function(e){return e.status="",e})).sort((function(){return Math.random()>.5?1:-1})),guessed:[].concat(n).sort((function(){return Math.random()>.5?1:-1})),current:{}});case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){return(v=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/words/wrong/".concat(t._id));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/words/correct/".concat(t._id));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){x.apply(this,arguments)}()}),[e.match.params.id]);var w=function(e){new Audio(e.audioSrc).play()},y=function(e){JSON.stringify(e)===JSON.stringify(n.guessed[n.guessed.length-1])?(function(e){N.apply(this,arguments)}(n.guessed[n.guessed.length-1]),n.items.map((function(t){return JSON.stringify(e)===JSON.stringify(t)&&(e.status="success"),e})),n.guessed.pop(),n.guessed.length&&(new Audio("/audio/correct.mp3").play(),w(n.guessed[n.guessed.length-1]),_(Object(O.a)(p).concat(["success"])))):(!function(e){v.apply(this,arguments)}(n.guessed[n.guessed.length-1]),new Audio("/audio/error.mp3").play(),_(Object(O.a)(p).concat(["error"])));!n.guessed.length&&u&&(p.length===n.items.length-1?g.push("/success"):g.push("/errors/".concat(p.filter((function(e){return"error"===e})).length)))};return Object(b.jsxs)("div",{className:u?"game started":"game",children:[Object(b.jsxs)("div",{className:"game__container",children:[n.items.length?"":Object(b.jsx)("div",{className:"loader",children:"LOADIND....."}),n.items.map((function(e,t){return Object(b.jsx)("div",{className:"game__card "+e.status,onClick:function(){return y(e)},"data-card-word":e.word,style:{backgroundImage:'url("'.concat(e.image,'")')}},t)}))]}),Object(b.jsx)("div",{className:"game__stars",children:p.map((function(e,t){return Object(b.jsx)("div",{className:"game__star game__star--".concat(e)},t)}))}),u&&Object(b.jsx)("a",{className:"game__button-paly",onClick:function(){if(n.guessed[n.guessed.length-1]){var e=n.guessed[n.guessed.length-1];w(e)}}}),n.items.length&&!u?Object(b.jsx)("a",{className:"game__button-start",onClick:function(){if(j(!0),n.guessed[n.guessed.length-1]){var e=n.guessed[n.guessed.length-1];w(e)}},children:"start game"}):""]})},g=function(){Object(j.b)();var e=Object(f.f)();return Object(c.useEffect)((function(){setTimeout((function(){e.push("/")}),1500),new Audio("/audio/success.mp3").play()})),Object(b.jsx)("div",{className:"page",children:Object(b.jsx)("div",{className:"final",children:Object(b.jsx)("img",{className:"final__picture",src:"/img/congrats-minion.png"})})})},x=function(e){Object(j.b)();var t=Object(f.f)();return Object(c.useEffect)((function(){new Audio("/audio/failure.mp3").play(),setTimeout((function(){t.push("/")}),2e3)})),Object(b.jsx)("div",{className:"page",children:Object(b.jsxs)("div",{className:"final",children:[Object(b.jsxs)("div",{className:"final__errors",children:["ERRORS: ",e.match.params.id]}),Object(b.jsx)("img",{className:"final__picture",src:"/img/sad_minion.png"})]})})},v=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)({order:"desc",field:"perSent"}),r=Object(l.a)(s,2),i=r[0],u=r[1],m=Object(j.b)(),h=Object(f.f)();function p(){return(p=Object(o.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/words/statistics?field=".concat(i.field,"&order=").concat(i.order));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){p.apply(this,arguments)}()}),[i]);var O=function(e){e.target instanceof HTMLElement&&e.target.dataset.field&&u({order:"desc"===i.order?"asc":"desc",field:e.target.dataset.field})},_=function(){var e=Object(o.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/words/statistics/reset?field=".concat(i.field,"&order=").concat(i.order));case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,n(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({type:"game.mode.play"}),h.push("/statistics/difficult-words");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"page",children:Object(b.jsxs)("div",{className:"statistic",children:[Object(b.jsxs)("div",{className:"statistic__controls",children:[Object(b.jsx)("button",{className:"statistic__button",onClick:g,children:"Repeat difficult words"}),Object(b.jsx)("button",{className:"statistic__button",onClick:_,children:"Reset"})]}),Object(b.jsx)("div",{className:"statistic__table-container",children:Object(b.jsxs)("table",{className:"table",children:[Object(b.jsxs)("tr",{className:"table__row",children:[Object(b.jsx)("td",{className:"table__header table__td table__td--header","data-field":"word",onClick:O,children:"Word"}),Object(b.jsx)("td",{className:"table__header table__td table__td--header","data-field":"translation",onClick:O,children:"Translation"}),Object(b.jsx)("td",{className:"table__header table__td table__td--header","data-field":"category",onClick:O,children:"Category"}),Object(b.jsx)("td",{className:"table__header table__td table__td--header","data-field":"clicks",onClick:O,children:"Clicks"}),Object(b.jsx)("td",{className:"table__header table__td table__td--header","data-field":"correct",onClick:O,children:"Correct"}),Object(b.jsx)("td",{className:"table__header table__td table__td--header","data-field":"wrong",onClick:O,children:"Wrong"}),Object(b.jsx)("td",{className:"table__header table__td table__td--header","data-field":"perSent",onClick:O,children:"Errors"})]}),a.map((function(e,t){return Object(b.jsxs)("tr",{className:"table__row",children:[Object(b.jsx)("td",{className:"table__td",children:e.word}),Object(b.jsx)("td",{className:"table__td",children:e.translation}),Object(b.jsx)("td",{className:"table__td",children:e.category}),Object(b.jsx)("td",{className:"table__td",children:e.clicks}),Object(b.jsx)("td",{className:"table__td",children:e.correct}),Object(b.jsx)("td",{className:"table__td",children:e.wrong}),Object(b.jsxs)("td",{className:"table__td",children:[e.perSent,"%"]})]},t)}))]})})]})})},N=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1];function s(){return(s=Object(o.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/categories");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){s.apply(this,arguments)}()}),[]),Object(b.jsx)("div",{className:"categories",children:Object(b.jsx)("div",{className:"categories__container",children:a.map((function(e){return Object(b.jsxs)(u.b,{to:"/category/words/".concat(e._id),className:"categories__item",children:[Object(b.jsx)("img",{src:e.image,className:"categories__picture",alt:e.name}),Object(b.jsx)("div",{className:"categories__title",children:e.name})]})}))})})};var w=function(){var e=Object(j.c)((function(e){return e.isModeGameTraining}));return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)(u.a,{children:[Object(b.jsx)(m,{}),Object(b.jsxs)(f.c,{children:[e&&Object(b.jsx)(f.a,{exact:!0,path:"/category/words/:id",component:Object(f.g)(p)}),!e&&Object(b.jsx)(f.a,{exact:!0,path:"/category/words/:id",component:Object(f.g)(_)}),Object(b.jsx)(f.a,{exact:!0,path:"/success",component:Object(f.g)(g)}),Object(b.jsx)(f.a,{exact:!0,path:"/errors/:id",component:Object(f.g)(x)}),Object(b.jsx)(f.a,{exact:!0,path:"/statistics",component:Object(f.g)(v)}),!e&&Object(b.jsx)(f.a,{exact:!0,path:"/statistics/difficult-words",component:Object(f.g)(_)}),Object(b.jsx)(f.a,{exact:!0,path:"/",component:Object(f.g)(N)})]})]})})},y=a(24);var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isModeGameTraining:!0},t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"game.mode.training":return{isModeGameTraining:!0};case"game.mode.play":return{isModeGameTraining:!1};default:return e}},S=Object(y.a)(k);r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(j.a,{store:S,children:Object(b.jsx)(w,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.71a313b4.chunk.js.map